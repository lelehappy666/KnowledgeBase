# ALIGNMENT: 叙事与主题库开发

## 1. 原始需求
用户要求开发"展项内容知识库"中的"叙事与主题库"模块。
- **功能参考**: `e:\KnowledgeBase\叙事与主题库.xlsx`。
- **核心功能**:
    - 新建叙事与主题。
    - **快速导入**: 复制 JSON 快速创建。
    - **存储规则**: 扁平化存储在 `Doc/Content_Knowledge/Narrative_Theme/` 下，文件名为 `{Name}.json`。

## 2. 需求理解与边界确认

### 2.1 数据模型
基于 Excel 分析，叙事与主题库包含以下 6 大组信息：
1.  **主题基础信息**: ID, 名称, 别名, 图标, 色彩, 口号, 摘要, 属性(类型/规模/时效性/重要性/紧迫性), 关联信息(学科/领域/SDGs/关键词).
2.  **叙事结构**: 框架(结构/视角/节奏/情感曲线/目标), 阶段(划分/时长/转折/高潮/结尾), 要素(主角/冲突/悬念/隐喻/金句), 认知路径(起点/目标/阶梯/障碍/突破).
3.  **展项配置与布局**: 展项类型(类型/功能/组合/核心/辅助), 布局设计(空间/面积/类型/流线/分区/焦点/过渡/休息), 展项示例(各类展项UUID).
4.  **内容与信息**: 框架(核心信息/关键数据/概念/故事/脉络/地理), 层次(一级至四级信息), 载体(展板/视频/互动/实物/可视化), 技巧(悬念/对比/类比/情节/共鸣).
5.  **体验与互动**: 目标(认知/情感/行为/社交), 设计(五感/节奏/惊喜/记忆/拍照), 层次(观察/操作/探究/创造/分享), 参与(个人/小组/家庭/社群/持续), 情感(起点/路径/高潮/落点/记忆).
6.  **评估与优化**: 效果(理解/满意/停留/参与/行为/分享), 方法(观察/访谈/问卷/数据/小组), 迭代(版本/经验/教训/建议/待验证), 参考(案例/文献), 验证状态(成熟度/次数/机构/时间/报告).

### 2.2 功能范围
- **CRUD**: 增删改查叙事主题条目。
- **JSON 导入**: 支持标准 JSON 模板导入。
- **文件存储**: 数据以 `{Name}.json` 形式存储在 `Doc/Content_Knowledge/Narrative_Theme/` 目录下。

### 2.3 技术约束
- **技术栈**: Next.js 14, TypeScript, Tailwind CSS, Shadcn UI.
- **存储**: 本地文件系统 (Node.js `fs`).
- **复用**: 复用现有的 `content-system.ts` 逻辑。

## 3. 疑问澄清
- **图片/附件**: Excel 中提到了"主题图标"、"情感曲线"、"流线设计"、"附件"等。
    - *决策*: 同样仅存储路径或 URL 字符串，暂不实现复杂的文件上传，用户可填入 Assets URL 或本地相对路径。

## 4. 结论
需求清晰，数据结构极为丰富。将按照"文件系统 CMS"模式进行开发，结构与"科学原理库"和"学科对照库"保持一致。

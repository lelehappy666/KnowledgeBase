# ALIGNMENT: 科学原理库开发

## 1. 原始需求
用户要求开发"展项内容知识库"中的"科学原理库"模块。
- **功能参考**: `e:\KnowledgeBase\科学原理库.xlsx`。
- **核心功能**:
    - 新建原理。
    - **快速导入**: 复制 JSON 快速创建。
    - **模板生成**: 创建一个模板 JSON 供用户复制。
- **存储路径**: `e:\KnowledgeBase\kb-web\Doc\Content_Knowledge\Science_Principles\`。
    - 英文名称约定: "Exhibit Content Knowledge Base" -> `Content_Knowledge`
    - 科学原理库 -> `Science_Principles`

## 2. 需求理解与边界确认

### 2.1 数据模型
基于 Excel 分析，科学原理库包含极为丰富的信息，分为 7 大组：
1.  **基础信息**: ID, 名称, 别名, 英文名, 图标, 摘要, 发现历史.
2.  **分类体系**: 一级学科, 二级学科, 交叉学科, 知识体系, 难度层级.
3.  **教育关联**: 适用学段(幼/小/初/高/大/成), 具体年级, 课标关联(标准/要求/编号), 核心素养, 能力目标, 认知层次, 教学支持(误区/难点/建议/安全).
4.  **展项关联**: 可展示性, 适合类型, 案例, 创意, 设计策略(视觉/交互/体验/技术), 难度评分(理解/操作/沉浸/记忆).
5.  **课程活动**: 课程开发(主题/类型/时长/场地/人数), 活动设计(PBL/周期/问题/产出/量表), 资源(PPT/指导书/手册/视频/素材/器材/成本).
6.  **跨学科**: STEAM关联, 应用领域(生活/工业/科研/医疗/军事), 前沿(动态/问题/趋势).
7.  **评估反馈**: 教学评估, 展项评估, 内容评估.

### 2.2 功能范围
- **CRUD**: 增删改查科学原理。
- **JSON 导入/导出**: 支持完整数据结构的 JSON 导入。
- **模板复制**: 提供标准 JSON 模板。
- **文件存储**: 数据以 `data.json` 形式存储在 `Doc/Content_Knowledge/Science_Principles/{Principle_Name}/` 目录下。

### 2.3 技术约束
- **技术栈**: Next.js 14, TypeScript, Tailwind CSS, Shadcn UI.
- **存储**: 本地文件系统 (Node.js `fs`).
- **Server Actions**: 处理数据读写。

## 3. 疑问澄清
- **图标/附件处理**: Excel 中提到"原理图标"、"PPT"、"PDF"等附件。
    - *决策*: 初期版本仅存储文件路径或 URL，暂不实现复杂的文件上传管理（复用现有的 Assets 模块或仅存文本占位）。考虑到"快速导入 JSON"，用户可能直接贴 URL。如果需要上传，复用现有的 `uploadFileAction`。
- **ID 生成**: 使用 UUID。
- **目录命名**: 使用原理名称，需处理特殊字符。

## 4. 结论
需求清晰，数据结构已解析。将按照"文件系统 CMS"模式进行开发。
